<?php
require __DIR__ . '/../vendor/autoload.php';

$logo = 'iVBORw0KGgoAAAANSUhEUgAAADkAAAA5CAYAAACMGIOFAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAE/UlEQVRo3t2bX2gcVRTGfxmWIIuUJWAIIQ1LXIKUEJVEDUFQSigllCBFglQfIkiRUDRWKPVFCCIikoeShyA+hCIi9knqQ6VQFGqEUPJQNZoiFhFq0YBpC1bSul0f9rvZ43RnM7vzJ5v9YJndmTvn3G/OnXPPPeduG8kgD4wCQ8A+oBfoBPYAGeBf4BbwJ/Ab8COwAnwL/EoTYxB4H7gClKp8NoF14LqOmwHtrkjOYLMQywCTwLKvoz8BC8AUMAx0AJ7vXk/nh9VuQfdZOcuSn9kpghPAqs8CJ4G+iHL7JMeOiFXpSw154JzpwBIwXsVSUeFJ7pLRdU76E8UR4KYU/pzi052QvpL0H0nq3ZuXkiIwB2QbkJMDpnWsF1npLaof83G+q1ngCwleBw5GkHVMco5FkHFQ/SipX9k4CF4wjqUQUd60ZE1HlFMwjulCFKIZY8HLQFdMo2Iyjqev/lw2Fm1o6M4bC3bRnOgyFp1vxIu6d7BAc6Ng3tHQXjcvN12s4WTGFIumiU7pDXJGRfU71DzqJvq5gOsDZhh3pkjQDcuBgDZzJmDYdtJ1E302hEMaq7OzI3IWI3XeNxbCwWRNwDBRy5uubtfItB1owCLHJf94A/cOhPCgEybWrdp20sSiSSEKybBwse6kDYId3tTxXXY3XP/fqLbgdc7E2+WW9IyTGrSWfFHHReDeLrfkPfHY4uVIPqfjGVoDZywvT5NnP7AGXG0RklfFpx/Ie8DTuvA1rQXHZ9QDHteP5RYj6fgMeZTzogA/JKw0A+zV970kn4FzfPZhopyOBBX2AJf4f7rxks4nhQ4T/WwlepOcHy9SyaPOUsnTLiWo1xOv9TZ9uQU85Gu0B3gLaAdOUU7nB+Ew8EyNwPkVDZ8h4I5krigefRT4rkEivcDrkvmeeFisiwdFyql7P8bN0JrZRpk/813tc9p3z2mdj5IYmzHyx6tcvw4Ua1nSUwfagfPA7RrK+oHHAq49CHxEubgzBPwOdMuSncDDNF7kyQIHZMkvq0RrW5ZM451c1NPeoJxd29DvjxOOYV2RKRXv+gDlgo6rZG0CH+p8Kt7VpTuGU5igc3I2uRR0Dbt0iEe5AEqDK/16cUNe9kYKuhyfNU8OAOCpFgvrHJ8VtApxhdNWgpvW8u6EW0n3tQjBPpPp2Jo2PtdxcpeQGAGuAYcCrj+v41lL8hMdX054vowLgwoongi4flvObbHa+isoPGoWdCiOdrWPmyLSHbC0uw9p5F2jwJYK/J9rYf1JPRn0buBowhGLHwtUah1v6/sp4FN9/yqsoDC1kJx5oodSJPm9dPboAZe0Nm0HftHvQlAQa3FW0XwBeKfGe9GrtudTJPmXcToWd0zSKnQtNc/29cncDnhhVxj+28Tbs7r2pIZzrhGBzVZpPgncNQ5nNqrAZt0zcMBMISt6dRpGErs/euUReyPKedVY8w/qLwbfl16Icx/PTMicUTU8S6V8f9TMjyUN4f1Rica1I2tKcqbqvO8R3feZj+QslV1eF6MOs7j21nmUE171euYeM397PpIZ4B/ljWJz4zuxSxIqGfgTPpIvGScUG/Kks9/Vj1FZrEQ5n+qcjhtdiURfSe5cPgG8VuXafhPClQzhw0k+3bj3oNuHthGwXMoo5CxRTmu2p72QjevfBB9QKSkSYNG7wAthOtaWEOE89f0vZE2O4xvClwzaFZxvi/8Ag4O3fzRS+vYAAAAASUVORK5CYII=';

$service = new App\Services\BadgeRenderService();
$svg = $service->renderBadgeWithCount('VISITS', 1, 'blue', 'for-the-badge', false, null, null, $logo, null);

echo (strpos($svg, '<image') !== false ? "HAS_IMAGE\n" : "NO_IMAGE\n");
file_put_contents(__DIR__ . '/diagnose_raw_output.svg', $svg);
